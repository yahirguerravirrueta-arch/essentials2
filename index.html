<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğ‘¬ğ’”ğ’”ğ’†ğ’ğ’•ğ’Šğ’‚ğ’ğ’” ğ‘¿ ğ‘»ğ‘± â€” Clone (Con carrito)</title>

  <style>
    :root{
      --accent:#111;
      --muted:#777;
      --bg:#fff;
      --card:#f8f8f8;
      --max-width:1200px;
      --gap:24px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    *{box-sizing:border-box;margin:0;padding:0}

    html,body{
      background:var(--bg);
      color:var(--accent);
      line-height:1.4;
    }

    img{max-width:100%;display:block}

    .wrap{
      max-width:var(--max-width);
      margin:0 auto;
      padding:18px;
    }

    /* =========== HEADER =========== */
    header.top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 0;
      flex-wrap:wrap;
      gap:12px;
    }

    .branding{
      font-weight:750;
      letter-spacing:1px;
      font-size:22px;
    }

    nav.links{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
    }

    nav.links a{
      font-size:14px;
      color:var(--muted);
      padding:6px 10px;
      border-radius:6px;
      transition:.2s;
    }

    nav.links a:hover{
      color:var(--accent);
      background:#f1f1f1;
    }

    /* =========== TITULO =========== */
    .title-area{
      margin:16px 0 18px;
    }

    .eyebrow{
      font-size:13px;
      color:var(--muted);
      margin-bottom:4px;
    }

    h1{
      font-size:26px;
      margin-bottom:6px;
    }

    .desc{
      max-width:700px;
      color:var(--muted);
      margin-top:4px;
    }

    /* =========== CONTROLS =========== */
    .controls{
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      gap:12px;
      margin:18px 0;
    }

    .filters{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }

    .btn{
      background:#fff;
      border:1px solid #ddd;
      padding:8px 12px;
      border-radius:6px;
      font-size:14px;
      cursor:pointer;
    }

    select{
      padding:6px;
      border-radius:6px;
      border:1px solid #ddd;
    }

    /* =========== GRID =========== */
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(170px,1fr));
      gap:var(--gap);
    }

    .card{
      cursor:pointer;
      transition:.2s;
    }

    .card:hover{
      transform:translateY(-3px);
    }

    .thumb{
      background:#f6f6f6;
      padding:18px;
      border-radius:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }

    .thumb img{
      max-height:240px;
      object-fit:contain;
    }

    .favorite{
      position:absolute;
      top:10px;
      right:10px;
      width:30px;
      height:30px;
      border-radius:50%;
      background:rgba(255,255,255,.9);
      border:1px solid #ddd;
      display:flex;
      justify-content:center;
      align-items:center;
      cursor:pointer;
    }

    .meta{
      margin-top:10px;
    }

    .brand{
      font-size:11px;
      color:var(--muted);
      text-transform:uppercase;
    }

    .title{
      font-size:14px;
      font-weight:600;
      margin:4px 0 2px;
    }

    .price{
      color:var(--accent);
      font-weight:700;
      font-size:15px;
    }

    /* =========== MODAL =========== */
    .overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.45);
      display:none;
      align-items:center;
      justify-content:center;
      padding:20px;
      z-index:60;
    }

    .modal{
      background:#fff;
      width:100%;
      max-width:950px;
      border-radius:12px;
      padding:20px;
      display:flex;
      gap:20px;
      max-height:90vh;
      overflow:auto;
      flex-wrap:wrap;
    }

    .modal .images{
      flex:1;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }

    .modal .images img{
      width:48%;
      border-radius:8px;
    }

    .product-info{
      flex:1;
      min-width:260px;
    }

    .product-info h2{
      margin-bottom:6px;
      font-size:20px;
    }

    .product-info .meta{
      color:var(--muted);
      margin-bottom:8px;
    }

    .product-info .price{
      font-size:22px;
      font-weight:700;
    }

    .selector,.qty{
      width:100%;
      padding:10px;
      border:1px solid #ddd;
      border-radius:6px;
      margin-top:10px;
    }

    .product-actions{
      display:flex;
      gap:10px;
      margin-top:16px;
    }

    .primary{
      background:#111;
      color:#fff;
      border:none;
      padding:12px 16px;
      border-radius:6px;
      cursor:pointer;
    }

    .ghost{
      background:#fff;
      border:1px solid #ddd;
      padding:12px 16px;
      border-radius:6px;
      cursor:pointer;
    }

    /* =========== CARRITO =========== */
    .cart-btn{
      position:fixed;
      right:20px;
      bottom:20px;
      background:#111;
      color:#fff;
      border:none;
      width:56px;
      height:56px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      z-index:70;
      box-shadow:0 4px 8px rgba(0,0,0,.2);
    }

    .cart{
      position:fixed;
      right:0;
      top:0;
      height:100vh;
      width:360px;
      background:#fff;
      border-left:1px solid #eee;
      transform:translateX(100%);
      transition:transform .28s;
      z-index:70;
      padding:18px;
      display:flex;
      flex-direction:column;
    }

    .cart.open{transform:translateX(0)}

    .cart-list{
      flex:1;
      overflow:auto;
      margin-top:12px;
    }

    footer{
      height:40px;
    }

    /* =========== MOBILE =========== */
    @media (max-width:540px){
      .branding{font-size:18px}
      nav.links{justify-content:center}
      .thumb img{max-height:180px}
      h1{font-size:22px}
      .modal{flex-direction:column}
      .modal .images img{width:100%}
    }
  </style>
</head>

<body>

<header class="top wrap">
  <div class="branding">ğ‘¬ğ’”ğ’”ğ’†ğ’ğ’•ğ’Šğ’‚ğ’ğ’” ğ‘¿ ğ‘»ğ‘±</div>
  <nav class="links">
    <a href="#">Moda mujer</a>
    <a href="#">Moda hombre</a>
    <a href="#">Rebajas</a>
    <a href="#">Estilos</a>
  </nav>
</header>

<main class="wrap">

  <div class="title-area">
    <div class="eyebrow">Home De Hombre > Essentials X TJ</div>
    <h1>Essentials X TJ para hombre</h1>
    <p class="desc">Los mejores bÃ¡sicos de vestuario estÃ¡n pensados para durar toda la vida.</p>
  </div>

  <div class="controls">
    <div class="filters">
      <button class="btn">Filtros</button>
      <button class="btn">Ropa</button>
      <button class="btn">Accesorios</button>
      <button class="btn">Ropa interior</button>
      <button class="btn">Activewear</button>
    </div>

    <div class="sort">
      <label>Ordenar por&nbsp;
        <select id="sortSelect">
          <option>Popularidad</option>
          <option selected>Precio: bajo a alto</option>
          <option>Precio: alto a bajo</option>
        </select>
      </label>
    </div>
  </div>

  <section class="grid" id="grid"></section>

</main>

<!-- MODAL -->
<div class="overlay" id="overlay">
  <div class="modal">
    <div class="images" id="modal-images"></div>

    <div class="product-info">
      <h2 id="modal-title"></h2>
      <p class="meta" id="modal-sub"></p>
      <div class="price" id="modal-price"></div>

      <label>Seleccionar talla</label>
      <select id="modal-size" class="selector"></select>

      <label>Cantidad</label>
      <input id="modal-qty" type="number" class="qty" min="1" value="1">

      <div class="product-actions">
        <button class="primary" id="addCart">AÃ±adir</button>
        <button class="ghost" id="closeModal">Cerrar</button>
      </div>
    </div>
  </div>
</div>

<!-- BOTÃ“N CARRITO -->
<button class="cart-btn" id="btnCart">ğŸ›’</button>

<!-- PANEL CARRITO -->
<aside class="cart" id="cart">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h3>Mi bolsa</h3>
    <button class="btn" id="closeCart">Cerrar</button>
  </div>

  <div class="cart-list" id="cartList"></div>
  <div class="total" id="totalLine">Total: $0</div>
</aside>

<footer class="wrap"></footer>

<!-- PRODUCT LIST + JS -->
<script>
const products = [
  {id:1,title:'Hoodie negro',sub:'Essentials X TJ',price:4559,images:['img/product2_1.jpg','img/product4_1.jpg'],sizes:['S','M','L','XL']},
  {id:2,title:'Hoodie negro',sub:'Essentials X TJ',price:1899,images:['img/product1_1.jpg'],sizes:['S','M','L','XL']},
  {id:3,title:'Playera negra',sub:'Essentials X TJ',price:1499,images:['img/product3_1.jpg'],sizes:['S','M','L','XL']},
  {id:4,title:'Hoodie washed',sub:'Essentials X TJ',price:4200,images:['img/product5_1.jpg'],sizes:['S','M','L','XL']},
  {id:5,title:'Hoodie Gris',sub:'Essentials X TJ',price:1899,images:['img/product8_1.jpg'],sizes:['S','M','L','XL']},
  {id:6,title:'Hoodie claro',sub:'Essentials X TJ',price:4990,images:['img/product7_1.jpg'],sizes:['S','M','L','XL']},
  {id:7,title:'Oversize tee',sub:'Essentials X TJ',price:2100,images:['img/product6_1.jpg'],sizes:['S','M','L','XL']},
  {id:8,title:'Hoodie Essentials',sub:'Essentials X TJ',price:5083,images:['img/product4_1.jpg'],sizes:['S','M','L','XL']}
];

const grid = document.getElementById('grid');
const overlay = document.getElementById('overlay');
const modalImages = document.getElementById('modal-images');
const modalTitle = document.getElementById('modal-title');
const modalSub = document.getElementById('modal-sub');
const modalPrice = document.getElementById('modal-price');
const modalSize = document.getElementById('modal-size');
const modalQty = document.getElementById('modal-qty');
const addCart = document.getElementById('addCart');
const closeModal = document.getElementById('closeModal');
const sortSelect = document.getElementById('sortSelect');

function renderGrid(){
  let prds=[...products];
  const sortVal=sortSelect.value;

  if(sortVal==='Precio: bajo a alto') prds.sort((a,b)=>a.price-b.price);
  else if(sortVal==='Precio: alto a bajo') prds.sort((a,b)=>b.price-a.price);

  grid.innerHTML='';
  prds.forEach(p=>{
    const a=document.createElement('article');
    a.className='card';
    a.innerHTML=`
      <div class="thumb" data-id="${p.id}">
        <img src="${p.images[0]}">
        <button class="favorite">â™¡</button>
      </div>
      <div class="meta">
        <div class="brand">${p.sub}</div>
        <div class="title">${p.title}</div>
        <div class="price">$${p.price.toLocaleString()}</div>
      </div>
    `;
    a.querySelector('.thumb').addEventListener('click',()=>openModal(p.id));
    grid.appendChild(a);
  });
}

let currentProduct=null;

function openModal(id){
  if(id===5) return location.href="pagina2.html";
  if(id===2) return location.href="pagina3.html";
  if(id===7) return location.href="pagina4.html";
  if(id===3) return location.href="pagina5.html";

  const p=products.find(x=>x.id===id);
  currentProduct=p;

  modalImages.innerHTML=p.images.map(i=>`<img src="${i}">`).join('');
  modalTitle.textContent=p.title;
  modalSub.textContent=p.sub;
  modalPrice.textContent=`$${p.price.toLocaleString()}`;
  modalSize.innerHTML=p.sizes.map(s=>`<option>${s}</option>`).join('');
  modalQty.value=1;

  overlay.style.display='flex';
}

closeModal.onclick=()=>overlay.style.display='none';
overlay.onclick=e=>e.target===overlay&&(overlay.style.display='none');

sortSelect.onchange=renderGrid;
renderGrid();
</script>

<!-- MINI CARRITO -->
<button id="miniCart" class="cart-btn" style="bottom:90px;">ğŸ›’ <span id="miniCount">0</span></button>

<script src="carrito.js"></script>

<script>
addCart.onclick=()=>{
  if(!currentProduct) return;
  addToCart({
    id:currentProduct.id,
    name:currentProduct.title,
    price:currentProduct.price,
    size:modalSize.value,
    image:currentProduct.images[0]
  });
};
</script>

</body>
</html>
