<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğ‘¬ğ’”ğ’”ğ’†ğ’ğ’•ğ’Šğ’‚ğ’ğ’” ğ‘¿ ğ‘»ğ‘± â€” Clone (Con carrito)</title>
  <style>
    :root{
      --accent:#111;
      --muted:#777;
      --bg:#fff;
      --card:#f8f8f8;
      --max-width:1200px;
      --gap:28px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--accent)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    .wrap{max-width:var(--max-width);margin:0 auto;padding:24px}
    header.top{display:flex;align-items:center;justify-content:space-between;padding:10px 0}
    .branding{font-weight:700;letter-spacing:1px;font-size:20px}
    nav.links{display:flex;gap:16px;align-items:center}
    nav.links a{font-size:14px;color:var(--muted)}

    .title-area{margin:14px 0 20px}
    .eyebrow{font-size:13px;color:var(--muted);margin-bottom:6px}
    h1{margin:0;font-size:26px}
    .desc{margin-top:10px;color:var(--muted);line-height:1.5;max-width:900px}

    .controls{display:flex;justify-content:space-between;align-items:center;margin:14px 0;gap:12px}
    .filters{display:flex;gap:10px;flex-wrap:wrap}
    .btn{background:#fff;border:1px solid #ddd;padding:8px 12px;border-radius:6px;font-size:14px;cursor:pointer}
    .sort{font-size:14px;color:var(--muted)}

    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--gap)}
    .card{background:transparent;text-align:left;cursor:pointer}
    .thumb{width:100%;background:#f6f6f6;border-radius:6px;padding:18px;display:flex;align-items:center;justify-content:center;position:relative}
    .thumb img{max-height:260px;object-fit:contain}
    .favorite{position:absolute;top:12px;right:12px;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid rgba(0,0,0,0.06);background:rgba(255,255,255,0.9);cursor:pointer}
    .meta{margin-top:10px}
    .brand{font-size:12px;color:var(--muted);text-transform:uppercase}
    .title{font-weight:600;margin:6px 0}
    .price{color:var(--muted);font-weight:700}

    .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:60}
    .modal{background:#fff;width:90%;max-width:1100px;border-radius:8px;display:flex;gap:24px;padding:22px;max-height:90vh;overflow:auto}
    .modal .images{flex:1;display:flex;gap:12px;flex-wrap:wrap}
    .modal .images img{width:48%;border-radius:6px}
    .product-info{flex:1}
    .product-info h2{margin:0 0 6px}
    .product-info p.meta{color:var(--muted);margin:0 0 12px}
    .product-info .price{font-size:22px;font-weight:700}
    .selector, .qty{width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;margin-top:10px}
    .product-actions{display:flex;gap:10px;margin-top:14px}
    .primary{background:#111;color:#fff;border:none;padding:12px 16px;border-radius:6px;cursor:pointer}
    .ghost{background:#fff;border:1px solid #ddd;padding:12px 16px;border-radius:6px;cursor:pointer}

    .cart-btn{position:fixed;right:20px;bottom:20px;background:#111;color:#fff;border:none;width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:70}
    .cart{position:fixed;right:0;top:0;height:100vh;width:360px;background:#fff;border-left:1px solid #eee;transform:translateX(100%);transition:transform .28s;z-index:70;padding:18px;display:flex;flex-direction:column}
    .cart.open{transform:translateX(0)}
    .cart h3{margin:0 0 12px}
    .cart-list{flex:1;overflow:auto}
    .cart-item{display:flex;gap:10px;align-items:center;border-bottom:1px solid #f1f1f1;padding:10px 0}
    .cart-item img{width:64px;height:64px;object-fit:cover;border-radius:6px;background:#f5f5f5}
    .cart-item .info{flex:1}
    .cart-item .info .name{font-weight:600}
    .cart-item .actions{display:flex;gap:6px;align-items:center}
    .total{font-weight:700;margin-top:12px}
    #paypal-button-container{margin-top:12px}

    footer{height:40px}

    @media (max-width:1000px){.grid{grid-template-columns:repeat(3,1fr)}}
    @media (max-width:700px){.grid{grid-template-columns:repeat(2,1fr)}.modal{flex-direction:column}.modal .images img{width:100%} }
    @media (max-width:480px){.grid{grid-template-columns:1fr}.controls{flex-direction:column;align-items:stretch}}
  </style>
</head>
<body>

<header class="top wrap">
  <div class="branding">ğ‘¬ğ’”ğ’”ğ’†ğ’ğ’•ğ’Šğ’‚ğ’ğ’” ğ‘¿ ğ‘»ğ‘±</div>
  <nav class="links">
    <a href="#">Moda para mujer</a>
    <a href="#">Moda para hombre</a>
    <a href="#">Rebajas</a>
    <a href="#">Encuentra estilos</a>
  </nav>
</header>

<main class="wrap">
  <div class="title-area">
    <div class="eyebrow">Home De Hombre &gt; Essentials X TJ</div>
    <h1>Essentials X TJ para hombre</h1>
    <p class="desc">
      Los mejores bÃ¡sicos de vestuario estÃ¡n pensados para durar toda la vida y Essentials X TJ lo sabe.
    </p>
  </div>

  <div class="controls">
    <div class="filters">
      <button class="btn">Filtros</button>
      <button class="btn">Ropa</button>
      <button class="btn">Accesorios</button>
      <button class="btn">Ropa interior y calcetines</button>
      <button class="btn">Activewear</button>
    </div>

    <div class="sort">
      <label>Ordenar por&nbsp;
        <select id="sortSelect">
          <option>Popularidad</option>
          <option selected>Precio: bajo a alto</option>
          <option>Precio: alto a bajo</option>
        </select>
      </label>
    </div>
  </div>

  <section class="grid" id="grid"></section>
</main>

<!-- MODAL -->
<div class="overlay" id="overlay">
  <div class="modal" role="dialog" aria-modal="true">
    <div class="images" id="modal-images"></div>
    <div class="product-info">
      <h2 id="modal-title"></h2>
      <p class="meta" id="modal-sub"></p>
      <div class="price" id="modal-price"></div>

      <label for="size">Seleccionar talla</label>
      <select id="modal-size" class="selector"></select>

      <label for="qty">Cantidad</label>
      <input id="modal-qty" type="number" class="qty" value="1" min="1">

      <div class="product-actions">
        <button class="primary" id="addCart">AÃ±adir a la bolsa</button>
        <button class="ghost" id="closeModal">Cerrar</button>
      </div>
    </div>
  </div>
</div>

<button class="cart-btn" id="btnCart" title="Ver bolsa">ğŸ›’</button>
<aside class="cart" id="cart">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h3>Mi bolsa</h3>
    <button class="btn" id="closeCart">Cerrar</button>
  </div>

  <div class="cart-list" id="cartList"></div>
  <div class="total" id="totalLine">Total: $0</div>
  <div id="paypal-button-container"></div>
</aside>

<footer class="wrap" style="padding-top:12px"></footer>

<script>
/* =============== PRODUCTOS =============== */
const products = [
  {id:1,title:'Hoodie negro',sub:'Essentials X TJ',price:4559,images:['img/product2_1.jpg','img/product4_1.jpg'],sizes:['S','M','L','XL']},
  {id:2,title:'Hoodie negro',sub:'Essentials X TJ',price:1899,images:['img/product1_1.jpg'],sizes:['S','M','L','XL']},
  {id:3,title:'Playera negra',sub:'Essentials X TJ',price:1499,images:['img/product3_1.jpg'],sizes:['S','M','L','XL']},
  {id:4,title:'Hoodie washed',sub:'Essentials X TJ',price:4200,images:['img/product5_1.jpg'],sizes:['S','M','L','XL']},
  {id:5,title:'Hoodie Gris',sub:'Essentials X TJ',price:1899,images:['img/product8_1.jpg'],sizes:['S','M','L','XL']},
  {id:6,title:'Hoodie claro',sub:'Essentials X TJ',price:4990,images:['img/product7_1.jpg'],sizes:['S','M','L','XL']},
  {id:7,title:'Oversize tee',sub:'Essentials X TJ',price:2100,images:['img/product6_1.jpg'],sizes:['S','M','L','XL']},
  {id:8,title:'Hoodie Essentials',sub:'Essentials X TJ',price:5083,images:['img/product4_1.jpg'],sizes:['S','M','L','XL']}
];

const grid = document.getElementById('grid');
const overlay = document.getElementById('overlay');
const modalImages = document.getElementById('modal-images');
const modalTitle = document.getElementById('modal-title');
const modalSub = document.getElementById('modal-sub');
const modalPrice = document.getElementById('modal-price');
const modalSize = document.getElementById('modal-size');
const modalQty = document.getElementById('modal-qty');
const addCart = document.getElementById('addCart');
const closeModal = document.getElementById('closeModal');
const btnCart = document.getElementById('btnCart');
const cartEl = document.getElementById('cart');
const cartList = document.getElementById('cartList');
const totalLine = document.getElementById('totalLine');
const closeCart = document.getElementById('closeCart');
const sortSelect = document.getElementById('sortSelect');

/* =============== GRID =============== */
function renderGrid(){
  let prds = [...products];
  const sortVal = sortSelect.value;
  if(sortVal === 'Precio: bajo a alto'){ prds.sort((a,b)=>a.price-b.price); }
  else if(sortVal === 'Precio: alto a bajo'){ prds.sort((a,b)=>b.price-a.price); }
  grid.innerHTML = '';

  prds.forEach(p=>{
    const a = document.createElement('article'); a.className='card';
    a.innerHTML = `
      <div class="thumb" data-id="${p.id}">
        <img src="${p.images[0]}" alt="${p.title}">
        <button class="favorite">â™¡</button>
      </div>
      <div class="meta">
        <div class="brand">${p.sub}</div>
        <div class="title">${p.title}</div>
        <div class="price">$${p.price.toLocaleString()}</div>
      </div>`;
    a.querySelector('.thumb').addEventListener('click',()=>openModal(p.id));
    grid.appendChild(a);
  });
}

/* =============== MODAL / REDIRECCIÃ“N =============== */
let currentProduct = null;

function openModal(id){
  if(id === 5){window.location.href="pagina2.html"; return;}
  if(id === 2){window.location.href="pagina3.html"; return;}
  if(id === 7){window.location.href="pagina4.html"; return;}
  if(id === 3){window.location.href="pagina5.html"; return;}

  const p = products.find(x => x.id === id); 
  if(!p) return;

  currentProduct = p;
  modalImages.innerHTML = p.images.map(i => `<img src="${i}">`).join('');
  modalTitle.textContent = p.title;
  modalSub.textContent = p.sub;
  modalPrice.textContent = `$${p.price.toLocaleString()}`;
  modalSize.innerHTML = p.sizes.map(s => `<option value="${s}">${s}</option>`).join('');
  modalQty.value = 1;

  overlay.style.display = 'flex';
}

closeModal.addEventListener('click',()=>overlay.style.display='none');
overlay.addEventListener('click',(e)=>{ if(e.target===overlay) overlay.style.display='none' });

sortSelect.addEventListener('change',()=>{ renderGrid(); });
renderGrid();
</script>

<!-- MINI CARRITO GLOBAL -->
<button id="miniCart" class="cart-btn" style="bottom:90px;">
  ğŸ›’ <span id="miniCount">0</span>
</button>

<script src="carrito.js"></script>

<script>
addCart.addEventListener("click", () => {
  if(!currentProduct) return;
  addToCart({
    id: currentProduct.id,
    name: currentProduct.title,
    price: currentProduct.price,
    size: modalSize.value,
    image: currentProduct.images[0]
  });
});
</script>
